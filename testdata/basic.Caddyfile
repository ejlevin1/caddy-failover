# Basic Caddyfile for testing
{
    order failover_proxy before reverse_proxy
    order failover_status before respond
}

:8080 {
    handle /api/* {
        failover_proxy http://localhost:5051 https://backup.example.com {
            fail_duration 3s
            dial_timeout 2s
            response_timeout 5s
        }
    }

    handle /admin/failover/status {
        failover_status
    }
}
